[프로젝트 명] 도치와 시치는 어디에 살까요?
[프로젝트 대상] 초등학교 4학년 학생
[사용 요소] Node.js 기반 웹사이트 + OpenAI API 챗봇

## 1. 프로젝트 개요
- 두 캐릭터(도치, 시치)를 통해 도시와 촌락의 특징을 비교·이해하도록 돕는 추리형 학습 웹사이트
- 첫 화면에서 캐릭터를 선택하면 해당 캐릭터와 채팅으로 학습 진행
- 이번 버전부터 캐릭터는 자신의 지역을 직접 말하지 않고, 학생이 질문을 통해 단서를 모아 스스로 맞히도록 유도

## 2. 핵심 학습 목표
1. 인구 규모와 분포 차이를 이해한다.
2. 일자리 유형과 산업 구조를 비교한다.
3. 주거 형태와 생활 환경의 차이를 파악한다.
4. 여가 활동과 문화 시설의 차이를 탐색한다.
5. 교통수단과 이동 방식의 차이를 설명할 수 있다.

## 3. 사용자 흐름
1. 랜딩 페이지
   - 프로젝트 소개 및 캐릭터 카드
   - “도치와 추리 시작”, “시치와 추리 시작” 버튼
   - 학생에게 “질문으로 단서를 모아보라”는 안내
2. 캐릭터 선택 후 채팅 화면
   - 좌측: 단서 키워드(인구/일자리/주거/여가/교통)와 추천 질문 캡슐
   - 우측: 채팅 로그 + 입력창
   - 하단: 학생이 직접 적어볼 수 있는 “단서 노트” 안내
3. 학습 정리(선택)
   - 대화를 마치면 학생이 찾은 단서를 정리하고 스스로 정답을 발표
   - 교사용 요약표 또는 퀴즈 링크 제공

## 4. 기능 명세
### 4.1 프론트엔드
- 기술: Node.js(Express) + EJS, 기본 CSS
- 화면 구성
  - `/`: 캐릭터 선택 + 추리 안내
  - `/chat?character=dochi|shichi`: 각 캐릭터 채팅
- 챗 UI
  - 추천 질문 캡슐 클릭 시 입력창 자동 채우기
  - 채팅 헤더/패널/노트 영역은 귀엽고 동글한 스타일 유지

### 4.2 백엔드
- Express 서버 구조
  - `/api/chat` POST: `{ character, messages, studentGrade }`
  - 캐릭터별 system prompt에 “정답을 직접 말하지 말 것” 규칙 포함
  - OpenAI Chat Completions API 사용 (기본 모델 gpt-4o-mini)
- 향후 확장: 세션 단위 로그 저장, 정답 제출 API 등

### 4.3 캐릭터 & 프롬프트 가이드
- 공통: 학생이 먼저 질문하도록 유도, 2~3 턴마다 단서 정리
- 도치
  - 말투: 활기차고 빠름
  - 단서 키워드: 인구 밀도 높음, 다양한 일자리, 높은 건물, 빠른 교통
- 시치
  - 말투: 차분하고 따뜻함
  - 단서 키워드: 이웃 중심 공동체, 자연과 가까운 일, 마당 있는 집, 느긋한 이동

### 4.4 와이어프레임(귀엽고 동글한 스타일)
#### 랜딩 페이지
- 원형 로고 + 파스텔 배경
- 캐릭터 카드: 원형 아바타, “사는 곳은 비밀!” 텍스트, 둥근 CTA
#### 챗 화면
- 좌측 단서 패널 + 추천 질문 캡슐
- 우측 말풍선 버블과 곡선형 입력창
- 하단 단서 노트 카드(학생이 적기 위한 안내글)
#### 학습 정리
- 도시/촌락 비교표는 둥근 모서리 카드, 하트형 퀴즈 버튼

## 5. 학습 전략
- 캐릭터가 학생의 답을 바탕으로 추가 질문을 던져 다섯 주제를 모두 다루도록 설계
- 정답 제공보다 탐구형 질문에 집중하고, 학생의 추측을 칭찬/확장
- 일정 턴마다 “지금까지 단서를 정리해볼까?” 같은 메타 질문으로 생각을 정리

## 6. 평가/확장 아이디어
1. 대화 종료 시 객관식 추리 퀴즈 자동 생성
2. 학생이 적은 단서를 기반으로 자동 비교표 생성
3. 교사용 관리자 페이지에서 학생별 대화 로그 확인
4. Web Speech API 연동으로 음성 입력/출력 지원
5. 캐릭터 스티커/애니메이션으로 몰입감 강화

## 7. 비밀 지역 추리 규칙
1. 캐릭터는 “도시/촌락”이라는 단어를 학생이 먼저 맞히기 전까지 언급하지 않는다.
2. 학생이 단서를 물으면 특징을 간접적으로 묘사하고 추가 질문을 되돌려 준다.
3. 학생이 정답을 추측하면 맞았는지 여부와 이유를 부드럽게 알려준다.
4. UI 문구에서도 캐릭터의 거주지를 노출하지 않고 “사는 곳은 비밀” 컨셉을 유지한다.
